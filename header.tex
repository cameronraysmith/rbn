%!TEX root = paper.tex
% Template for PLoS
% Version 1.0 January 2009
%
% To compile to pdf, run:
% latex plos.template
% bibtex plos.template
% latex plos.template
% latex plos.template
% dvipdf plos.template

\documentclass[10pt]{article}
%\documentclass[aps,twocolumn]{revtex4-1}
%\documentclass[aps,twocolumn]{article}
% \usepackage{multicol}

% amsmath package, useful for mathematical formulas
\usepackage{amsmath}
\setcounter{MaxMatrixCols}{50}
% amssymb package, useful for mathematical symbols
\usepackage{amssymb}

% graphicx package, useful for including eps and pdf graphics
% include graphics with the command \includegraphics
\usepackage{graphicx}

% cite package, to clean up citations in the main text. Do not remove.
\usepackage{cite}

\usepackage{color}

% Use doublespacing - comment out for single spacing
%\usepackage{setspace}
%\doublespacing

% Text layout
\topmargin 0.0cm
\oddsidemargin 0.5cm
\evensidemargin 0.5cm
\textwidth 16cm
\textheight 21cm

% Bold the 'Figure #' in the caption and separate it with a period
% Captions will be left justified
\usepackage[labelfont=bf,labelsep=period,justification=raggedright]{caption}

% Remove brackets from numbering in List of References
\makeatletter
\renewcommand{\@biblabel}[1]{\quad#1.}
\makeatother

% Leave date blank
\date{}

\pagestyle{myheadings}
%% ** EDIT HERE **

\usepackage{bussproofs}

% xy-pic for diagrams
\usepackage[all]{xy}
% subcaption
\usepackage{subcaption}
% hyperref
%\usepackage[linkbordercolor={.67 .27 .27},citebordercolor={.09 .29 .54},urlbordercolor={.09 .29 .54}]{hyperref}
\usepackage{hyperref}
\hypersetup{colorlinks=true,
linkcolor=[rgb]{.67 .27 .27},
citecolor=[rgb]{.09 .29 .54},
urlcolor=[rgb]{.09 .29 .54}}

% color table cells http://goo.gl/ZmpJv
\usepackage[table]{xcolor}
% rotate text in table http://goo.gl/Lb4Zd
\usepackage{rotating}
% listings for code highlighting in appendix
\usepackage{listings}
\usepackage{setspace}
\input{tex/listingspython}
\usepackage{placeins}
\usepackage{longtable}
\usepackage{dot2texi}
\usepackage{tikz}
\usetikzlibrary{automata,shapes,arrows}
% todo notes see http://www.texample.net/tikz/examples/todo-notes/
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{amsthm}
\usepackage{bibunits}

% hyperref with bibunits
% http://tex.stackexchange.com/a/101495/6784
% \makeatletter
% \def\hyper@natlinkstart#1{%
%   \Hy@backout{#1}%
%   \hyper@linkstart{cite}{cite.\@bibunitname.#1}%
% %                             ^^^^^^^^^^^^^^
%   \def\hyper@nat@current{#1}%
% }

% \def\hyper@natlinkbreak#1#2{%
%   \hyper@linkend#1\hyper@linkstart{cite}{cite.\@bibunitname.#2}%
% %                                             ^^^^^^^^^^^^^^
% }

% \def\hyper@natanchorstart#1{%
%   \hyper@anchorstart{cite.\@bibunitname.#1}%
% %                         ^^^^^^^^^^^^^^
% }

% \def\bibcite#1#2{%
%   \@newl@bel{b}{#1}{\hyper@@link[cite]{}{cite.\@bibunitname.#1}{#2}}%
% %                                             ^^^^^^^^^^^^^^
% }%

% \def\@lbibitem[#1]#2{%
%   \@skiphyperreftrue
%   \H@item[\hyper@anchorstart{cite.\@bibunitname.#2}%
% %                                 ^^^^^^^^^^^^^^
%   \@BIBLABEL{#1}\hyper@anchorend\hfill]%
%   \@skiphyperreffalse
%   \if@filesw
%     \begingroup
%       \let\protect\noexpand
%       \immediate\write\@auxout{%
%         \string\bibcite{#2}{#1}%
%       }%
%     \endgroup
%   \fi
%   \ignorespaces
% }%

% \def\@bibitem#1{%
%   \@skiphyperreftrue\H@item\@skiphyperreffalse
%   \hyper@anchorstart{cite.\@bibunitname.#1}\relax\hyper@anchorend
% %                         ^^^^^^^^^^^^^^
%   \if@filesw
%     \begingroup
%       \let\protect\noexpand
%       \immediate\write\@auxout{%
%         \string\bibcite{#1}{\the\value{\@listctr}}%
%       }%
%     \endgroup
%   \fi
%   \ignorespaces
% }%

% \def\@citex[#1]#2{%
%   \let\@citea\@empty
%   \@cite{%
%     \@for\@citeb:=#2\do{%
%       \@citea
%       \def\@citea{,\penalty\@m\ }%
%       \edef\@citeb{\expandafter\@firstofone\@citeb}%
%       \if@filesw
%         \immediate\write\@auxout{\string\citation{\@citeb}}%
%       \fi
%       \@ifundefined{b@\@citeb}{%
%         \mbox{\reset@font\bfseries ?}%
%         \G@refundefinedtrue
%         \@latex@warning{%
%           Citation `\@citeb' on page \thepage \space undefined%
%         }%
%       }{%
%         \hyper@natlinkstart{#2}%
% %       ^^^^^^^^^^^^^^^^^^^^^^^^
%             \hbox{\csname b@\@citeb\endcsname}%
%         \hyper@natlinkend%
% %       ^^^^^^^^^^^^^^^^^^
%       }%
%     }%
%   }{#1}%
% }%

% \makeatother
% end - hyperref with bibunits

% define colors
\definecolor{DeepRed}{rgb}{.82,.14,.16}
\definecolor{DeepBlue}{rgb}{0,0.36,0.62}

% set depth for table of contents
% http://tex.stackexchange.com/a/17879/6784
% http://tex.stackexchange.com/a/11669/6784
\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{0}

%% ** EDIT HERE **
%% PLEASE INCLUDE ALL MACROS BELOW

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{xca}[theorem]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}


% Set autoref text
% http://tex.stackexchange.com/a/36576/6784
\renewcommand*{\figureautorefname}{Fig.}
\renewcommand*{\equationautorefname}{Eq.}
\renewcommand*{\tableautorefname}{Table}

\renewcommand{\refname}{References}

\newcommand{\beginsupplement}{%
        \setcounter{table}{0}
        \renewcommand{\thetable}{S\arabic{table}}%
        \setcounter{figure}{0}
        \renewcommand{\thefigure}{S\arabic{figure}}%
     }

\def\tr{\mathrm{tr}}
\def\Path{\mathrm{Path}}
\def\hier{\mathbf{Hier}}
\def\Vertex{\mathrm{Vertex}}
\def\adj{\mathrm{adj}}
\def\wprod{\mathbf{wp}}
\def\length{\mathbf{len}}
\def\connectivity{d}
\def\reffigexamplesystemmodules{\ref{fig:modsccsym}A}
\def\reffigscc{\ref{fig:modsccsym}B}
\def\reffighiertransformations{\ref{fig:modsccsym}C}
\def\reffigrobustconnect{\ref{fig:combined}A}
\def\reffigrobusthierarchy{\ref{fig:combined}B}
\def\reffigconnectcycle3D3x3{\ref{fig:combined}C}
\def\reffigconnectdist3D3x3{\ref{fig:combined}D}
%% END MACROS SECTION
